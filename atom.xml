<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>One night in cs</title>
  
  
  <link href="/1night-cs/atom.xml" rel="self"/>
  
  <link href="https://handsome-feng.github.io/1night-cs/"/>
  <updated>2019-09-29T06:53:02.106Z</updated>
  <id>https://handsome-feng.github.io/1night-cs/</id>
  
  <author>
    <name>handsome_feng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/UK-NO1/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/UK-NO1/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p>慢既是快</p><ul><li><input disabled type="checkbox"> 全局快捷键</li><li><input disabled type="checkbox"> 统一的帮助文档</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;慢既是快&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled type=&quot;checkbox&quot;&gt; 全局快捷键&lt;/li&gt;
&lt;li&gt;&lt;input disabled type=&quot;checkbox&quot;&gt; 统一的帮助文档&lt;/li&gt;
&lt;/ul&gt;

      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/dbus/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/dbus/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a>Debugging</h3><p>examples/dbus/remotecontrolledcar/controller/controller &amp;<br>QDBUS_DEBUG=1 examples/dbus/remotecontrolledcar/car/car &amp;</p><h3 id="自动启动Service"><a href="#自动启动Service" class="headerlink" title="自动启动Service"></a>自动启动Service</h3><p>D-Bus系统提供了一种机制可以在访问某个service时，自动把应用程序运行起来。需要在/usr/share/dbus-1/services下面建立com.scorpio.test.service文件，文件的内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[D-BUS Service]</span><br><span class="line">Name=com.scorpio.test</span><br><span class="line">Exec=/path/to/scorpio/test</span><br></pre></td></tr></table></figure><h3 id="Qt-Dbus工具"><a href="#Qt-Dbus工具" class="headerlink" title="Qt Dbus工具"></a>Qt Dbus工具</h3><ul><li><p>qdbusviewer</p></li><li><p>qdbuscpp2xml</p><p>qdbuscpp2xml会解析QObject派生类的C++头文件或是源文件，生成D-Bus的内省xml文件。qdbuscpp2xml 会区分函数的输入输出，如果参数声明为const则会是输入，否则可能会被当作输出。<br>qdbuscpp2xml使用语法如下：<br><code>qdbuscpp2xml [options...] [files...]</code><br>Options参数如下：<br>-p|-s|-m：只解析脚本化的属性、信号、方法（槽函数）<br>-P|-S|-M：解析所有的属性、信号、方法（槽函数）<br>-a：输出所有的脚本化内容，等价于-psm<br>-A：输出所有的内容，等价于-PSM<br>-o filename：输出内容到filename文件<br>解析所有的方法输出到com.scorpio.test.xml文件命令如下：<br><code>qdbuscpp2xml -M test.h -o com.scorpio.test.xml</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE node PUBLIC &quot;-//freedesktop//DTD D-BUS Object Introspection 1.0//EN&quot; &quot;http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd&quot;&gt;</span><br><span class="line">&lt;node&gt;</span><br><span class="line">  &lt;interface name=&quot;com.scorpio.test.value&quot;&gt;</span><br><span class="line">    &lt;method name=&quot;maxValue&quot;&gt;</span><br><span class="line">      &lt;arg type=&quot;i&quot; direction=&quot;out&quot;/&gt;</span><br><span class="line">    &lt;/method&gt;</span><br><span class="line">    &lt;method name=&quot;minValue&quot;&gt;</span><br><span class="line">      &lt;arg type=&quot;i&quot; direction=&quot;out&quot;/&gt;</span><br><span class="line">    &lt;/method&gt;</span><br><span class="line">    &lt;method name=&quot;value&quot;&gt;</span><br><span class="line">      &lt;arg type=&quot;i&quot; direction=&quot;out&quot;/&gt;</span><br><span class="line">    &lt;/method&gt;</span><br><span class="line">    &lt;method name=&quot;setValue&quot;&gt;</span><br><span class="line">      &lt;arg name=&quot;value&quot; type=&quot;i&quot; direction=&quot;in&quot;/&gt;</span><br><span class="line">    &lt;/method&gt;</span><br><span class="line">  &lt;/interface&gt;</span><br><span class="line">&lt;/node&gt;</span><br></pre></td></tr></table></figure></li><li><p>qdbusxml2cpp</p><p>qdbusxml2cpp根据输入文件中定义的接口，生成C++实现代码。<br>qdbusxml2cpp可以辅助自动生成继承于QDBusAbstractAdaptor和QDBusAbstractInterface两个类的实现代码，用于进程通信服务端和客户端，简化了开发者的代码设计。<br>qdbusxml2cpp使用语法如下：<br><code>qdbusxml2cpp [options...] [xml-or-xml-file] [interfaces...]</code><br>Options参数如下：<br>-a filename：输出Adaptor代码到filename<br>-c classname：使用classname作为生成类的类名<br>-i filename：增加#include到输出<br>-l classname：当生成Adaptor代码时，使用classname作为父类<br>-m：在cpp文件中包含 #include “filename.moc”语句<br>-N：不使用名称空间<br>-p filename：生成Proxy代码到filename文件<br>解析com.scorpio.test.xml文件，生成Adaptor类ValueAdaptor，文件名称为valueAdaptor.h、valueAdaptor.cpp命令行如下：<br><code>qdbusxml2cpp com.scorpio.test.xml -i test.h -a valueAdaptor</code><br>解析com.scorpio.test.xml文件，生成Proxy类ComScorpioTestValueInterface，文件名称为testInterface.h、testInterface.cpp命令行如下：<br><code>qdbusxml2cpp com.scorpio.test.xml -p testInterface</code></p></li></ul><h3 id="dbus-daemon"><a href="#dbus-daemon" class="headerlink" title="dbus-daemon"></a>dbus-daemon</h3><p><a href="https://dbus.freedesktop.org/doc/dbus-daemon.1.html" rel="external nofollow noopener noreferrer" target="_blank">https://dbus.freedesktop.org/doc/dbus-daemon.1.html</a></p><p><strong>D-Bus</strong> is first a library that provides one-to-one communication between any two applications; </p><p><strong>dbus-daemon</strong> is an application that uses this library to implement a message bus daemon. Multiple programs connect to the message bus daemon and can exchange messages with one another.</p><p>There are two standard message bus instances: </p><p> systemwide message bus (installed on many systems as the “messagebus” init service) </p><p>per-user-login-session message bus (started each time a user logs in).</p><p>SIGHUP will cause the D-Bus daemon to PARTIALLY reload its configuration file and to flush its user/group information caches. Some configuration changes would require kicking all apps off the bus; so they will only take effect if you restart the daemon. Policy changes should take effect with SIGHUP.</p><h3 id="configuration-file"><a href="#configuration-file" class="headerlink" title="configuration file"></a>configuration file</h3><p>The standard systemwide and per-session message bus setups are configured in the files “/usr/share/dbus-1/system.conf” and “/usr/share/dbus-1/session.conf”. These files normally <include> a system-local.conf or session-local.conf in /etc/dbus-1; you can put local overrides in those files to avoid modifying the primary configuration files.</include></p><p>The standard system bus normally reads additional XML files from /usr/share/dbus-1/system.d. Third-party packages should install the default policies necessary for correct operation into that directory, which has been supported since dbus 1.10 (released in 2015).</p><p>The standard system bus normally also reads XML files from /etc/dbus-1/system.d, which should be used by system administrators if they wish to override default policies.</p><p>Third-party packages would historically install XML files into /etc/dbus-1/system.d, but this practice is now considered to be deprecated: that directory should be treated as reserved for the system administrator.</p><ul><li><policy></policy></li></ul><p>The <policy> element defines a security policy to be applied to a particular set of connections to the bus. A policy is made up of <allow> and <deny> elements. Policies are normally used with the systemwide bus; they are analogous to a firewall in that they allow expected traffic and prevent unexpected traffic.</deny></allow></policy></p><p>In general, it is best to keep system services as small, targeted programs which run in their own process and provide a single bus name. Then, all that is needed is an <allow> rule for the “own” permission to let the process claim the bus name, and a “send_destination” rule to allow traffic from some or all uids to your service.</allow></p><p>Rules with one or more of the <code>send_</code>* family of attributes are checked in order when a connection attempts to send a message. The last rule that matches the message determines whether it may be sent. The well-known session bus normally allows sending any message. The well-known system bus normally allows sending any signal, selected method calls to the <strong>dbus-daemon</strong>, and exactly one reply to each previously-sent method call (either success or an error). Either of these can be overridden by configuration; on the system bus, services that will receive method calls must install configuration that allows them to do so, usually via rules of the form <code>&lt;policy context=&quot;default&quot;&gt;&lt;allow send_destination=&quot;…&quot;/&gt;&lt;policy&gt;</code>.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Debugging&quot;&gt;&lt;a href=&quot;#Debugging&quot; class=&quot;headerlink&quot; title=&quot;Debugging&quot;&gt;&lt;/a&gt;Debugging&lt;/h3&gt;&lt;p&gt;examples/dbus/remotecontrolledcar/controll
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/seed/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/seed/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p>cd ~/home/feng/seeds</p><p>git clone </p><p>git clone</p><p>mv ubuntukylin ubuntukylin.disco</p><p>mv platform platform.disco</p><p>germinate -S file:///home/feng/seeds/ -s ubuntukylin.disco -d disco -a amd64 -c main,restricted,universe,multiverse</p><p>最后查看desktop文件，为桌面版本iso的包列表</p><p>This is an example of a seed file (minimized version of a real seed file):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Task-Per-Derivative: 1</span><br><span class="line"></span><br><span class="line">Task-Section: user</span><br><span class="line"></span><br><span class="line">Task-Description: 2D/3D creation and editing suite</span><br><span class="line"></span><br><span class="line">Task-Key: ubuntustudio-graphics</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* agave #This is a dependency</span><br><span class="line"></span><br><span class="line">* (blender) #This is a recommend</span><br><span class="line"></span><br><span class="line"># * (openclipart-svg) #Has been commented out, and will not be used</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* ubuntukylin-desktop # Metapackage for everything here.</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;cd ~/home/feng/seeds&lt;/p&gt;
&lt;p&gt;git clone &lt;/p&gt;
&lt;p&gt;git clone&lt;/p&gt;
&lt;p&gt;mv ubuntukylin ubuntukylin.disco&lt;/p&gt;
&lt;p&gt;mv platform platform.disco&lt;/p&gt;
&lt;p&gt;
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/snap/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/snap/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sudo snap ack ubuntu-core_1797.assert</span><br><span class="line">$ sudo snap install ubuntu-core_1797.snap</span><br><span class="line">$ sudo snap ack somePackage.assert</span><br><span class="line">$ sudo snap install somePackage.snap</span><br><span class="line"></span><br><span class="line">$ sudo snap install --dangerous some.snap</span><br><span class="line"></span><br><span class="line">$ sudo snap revert hello</span><br><span class="line"></span><br><span class="line">$ snap changes</span><br><span class="line">$ sudo snap abort id</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install apparmor apparmor-utils</span><br><span class="line">$ sudo mkdir -p /etc/default/grub.d</span><br><span class="line">$ echo &apos;GRUB_CMDLINE_LINUX_DEFAULT=&quot;$GRUB_CMDLINE_LINUX_DEFAULT apparmor=1 security=apparmor&quot;&apos; \</span><br><span class="line">  | sudo tee /etc/default/grub.d/apparmor.cfg</span><br><span class="line">$ sudo update-grub</span><br><span class="line">$ sudo reboot</span><br><span class="line"></span><br><span class="line">$ sudo aa-status</span><br><span class="line"></span><br><span class="line">$ ps auxZ | grep -v &apos;^unconfined&apos;</span><br></pre></td></tr></table></figure><p>$ xdelta3 -s telegram-desktop_637.snap telegram-desktop_617.snap telegram-desktop_637.snap.xdelta3</p><p>查看SELinux状态：</p><p>1、/usr/sbin/sestatus -v      ##如果SELinux status参数为enabled即为开启状态</p><p>SELinux status:                 enabled</p><p>2、getenforce                 ##也可以用这个命令检查</p><p>关闭SELinux：</p><p>1、临时关闭（不用重启机器）：</p><p>setenforce 0                  ##设置SELinux 成为permissive模式</p><p>​                              ##setenforce 1 设置SELinux 成为enforcing模式</p><p>2、修改配置文件需要重启机器：</p><p>修改/etc/selinux/config 文件</p><p>将SELINUX=enforcing改为SELINUX=disabled</p><p>重启机器即可</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/%E7%89%88%E6%9C%AC%E5%88%B6%E4%BD%9C/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/版本制作/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h2 id="手动集成版本流程如下："><a href="#手动集成版本流程如下：" class="headerlink" title="手动集成版本流程如下："></a>手动集成版本流程如下：</h2><ol><li><p>点击基础iso镜像，右键挂载镜像:</p><p>  <code>sudo mount xxx.iso /mnt/uk64</code></p></li><li><p>创建一个image-iso目录，拷贝挂载镜像的所有文件到image-iso目录（注意隐藏文件不要漏掉了）</p><p>  <code>cd /image-iso</code></p><p>  <code>rsync -a /mnt/uk64 .</code></p></li><li><p>将image-iso/casper/filesystem.squashfs 移动到工作目录下:</p><p>   <code>sudo mv uk64/casper/filesystem.squashfs .</code></p></li><li><p>解压缩文件，生成squashfs-root目录</p><p>  <code>sudo unsquashfs filesystem.squashfs</code></p></li><li><p>chroot进入squashfs-root目录，命令：</p><p>  <code>sudo chroot squashfs-root</code></p></li><li><p>进入chroot后第一个操作为mount：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mount -t proc proc /proc</span><br><span class="line">mount -t sysfs sysfs /sys</span><br><span class="line">mount -t devtmpfs devtmpfs /dev</span><br><span class="line">mount -t devpts devpts /dev/pts</span><br></pre></td></tr></table></figure></li><li><p>配置chroot环境中的网络、apt源等（配置网络修改/etc/resolv.conf，修改源更改/etc/apt/sources.list文件,添加multiverse)</p><p>   <code>vim.tiny /etc/resolv.conf: nameserver 114.114.114.114</code></p></li><li><p>chroot环境中安装包、删除包、修改配置文件等</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository ppa:feng-kylin/1810aid</span><br><span class="line">apt-get install foxitreader flashplugin-installer libgconf-2-4</span><br><span class="line">apt purge apport apport-gtk apport-symptoms python-apport gnome-software gnome-software-common ubuntu-software libreoffice-* mate-polkit kylin-greeter</span><br></pre></td></tr></table></figure><ul><li><p>windows字体 添加可执行权限和可读权限<br>sudo cp -r huawen_font /usr/share/fonts<br>chmod +rx -R huawen_font</p></li><li><p>更新字体缓存，执行命令</p><p><code>fc-cache -v -f</code></p></li><li><p>还原定制版本中修改的配置文件及清除缓存，如/etc/resolv.conf文件，/var/cache/apt/archives目录下的deb包，/var/lib/apt/lists目录下的apt更新list文件等</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository -r ppa:feng-kylin/1810aid</span><br><span class="line">rm /etc/apt/sources.list.d/feng-kylin-*</span><br><span class="line">rm /var/lib/apt/lists/ppa.launchpad.net_feng-kylin_1810aid_ubuntu_dists_cosmic_*</span><br><span class="line">apt-get clean</span><br><span class="line">vim.tiny /etc/resolv.conf</span><br><span class="line">vim.tiny /etc/apt/sources.list</span><br></pre></td></tr></table></figure></li></ul></li><li><p>退出chroot前最后一个操作：</p>   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">umount -l /sys</span><br><span class="line">umount -l /dev/pts</span><br><span class="line">umount -l /dev</span><br><span class="line">umount -l /proc</span><br></pre></td></tr></table></figure></li><li><p>退出chroot环境:</p><p>  <code>exit</code></p></li><li><p>删除旧的filesystem.squashfs，创建新的filesystem.squashfs，命令如下：</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rm filesystem.squashfs</span><br><span class="line">sudo mksquashfs squashfs-root/ filesystem.squashfs</span><br></pre></td></tr></table></figure><ol start="12"><li><p>更新filesystem.squashfs.size</p><p>   <code>sudo du -sx --block-size=1 squashfs-root | cut -f1 &gt; filesystem.size</code></p></li><li><p>删除squashfs-root目录：</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -r squashfs-root/</span><br></pre></td></tr></table></figure><ol start="14"><li>将filesytem.squashfs 和filesystem.size移动到casper目录，并修改新filesystem.squashfs文件属主和权限，跟其余文件一样：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo mv filesystem.squashfs filesystem.size uk64/casper</span><br><span class="line">cd uk64/casper</span><br><span class="line">sudo chmod 444 filesystem.squashfs filesystem.size</span><br><span class="line">sudo chown feng:feng filesystem.squashfs filesystem.size</span><br></pre></td></tr></table></figure><ol start="15"><li><p>定制ubiquity安装过程（可选）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo vim uk64/preseed/cli.seed</span><br><span class="line">sudo vim boot/grub/grub.cfg</span><br></pre></td></tr></table></figure></li><li><p>修改bootlogo（可选）:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mv uk64/isolinux/bootlogo .</span><br><span class="line">mkdir bootlogo-tmp &amp;&amp; cd bootlogo-tmp</span><br><span class="line">cpio -i &lt; ../bootlogo</span><br><span class="line">sudo vim txt.cfg lang langlist</span><br><span class="line">ls -1 | cpio --quiet -o &gt; ./bootlogo</span><br><span class="line">sudo cp * ../uk64/isolinux</span><br></pre></td></tr></table></figure></li><li><p>进入到image-iso目录，更新md5值：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rm md5sum.txt</span><br><span class="line">find -type f -print0 | sudo xargs -0 md5sum | grep -v isolinux/boot.cat | sudo tee md5sum.txt</span><br></pre></td></tr></table></figure></li><li><p>进入到uk64目录，压缩镜像</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xorriso -as mkisofs -r -checksum_algorithm_iso md5,sha1 -V Ubuntu-Kylin\ 19.04 -o ubuntukylin-19.04-amd64.iso -isohybrid-mbr /usr/lib/ISOLINUX/isohdpfx.bin -cache-inodes -J -l -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table -eltorito-alt-boot -e boot/grub/efi.img -no-emul-boot -isohybrid-gpt-basdat -isohybrid-apm-hfsplus uk64/</span><br></pre></td></tr></table></figure><p>32位：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xorriso -as mkisofs -r -checksum_algorithm_iso md5,sha1 -V Ubuntu-Kylin\ 18.04.2 -o ubuntukylin-18.04.2-enhanced-i386.iso -isohybrid-mbr /usr/lib/ISOLINUX/isohdpfx.bin -partition_offset 16 -cache-inodes -J -l -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table uk32/</span><br></pre></td></tr></table></figure><ul><li><p>pressed配置：</p><p><a href="https://help.ubuntu.com/lts/installation-guide/s390x/apbs04.html#preseed-l10n" rel="external nofollow noopener noreferrer" target="_blank">https://help.ubuntu.com/lts/installation-guide/s390x/apbs04.html#preseed-l10n</a></p><p><a href="https://wiki.ubuntu.com/UbiquityAutomation" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/UbiquityAutomation</a></p><p><a href="https://help.ubuntu.com/community/InstallCDCustomization" rel="external nofollow noopener noreferrer" target="_blank">https://help.ubuntu.com/community/InstallCDCustomization</a></p></li><li><p>修改/etc/sudoers,使得sudo不需要密码：</p><p>kylin (ALL: ALL) NOPASSWD: ALL</p><p>%sudo (ALL: ALL) NOPASSWD: ALL</p></li><li><p>解开initrd:</p><p>unmkinitramfs initrd</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;手动集成版本流程如下：&quot;&gt;&lt;a href=&quot;#手动集成版本流程如下：&quot; class=&quot;headerlink&quot; title=&quot;手动集成版本流程如下：&quot;&gt;&lt;/a&gt;手动集成版本流程如下：&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;点击基础iso镜像，右键挂载镜像:&lt;/p&gt;
&lt;p&gt;
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/Theme/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/Theme/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/%E8%AE%BE%E5%A4%87/%E6%98%BE%E5%8D%A1/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/设备/显卡/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="设备" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/%E8%AE%BE%E5%A4%87/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/%E8%AE%BE%E5%A4%87/%E7%BD%91%E5%8D%A1/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/设备/网卡/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="设备" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/%E8%AE%BE%E5%A4%87/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/DebianMaintainer/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/DebianMaintainer/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Debian-Maintainer"><a href="#Debian-Maintainer" class="headerlink" title="Debian Maintainer"></a>Debian Maintainer</h1><h2 id="Becoming-a-Debian-Maintainer"><a href="#Becoming-a-Debian-Maintainer" class="headerlink" title="Becoming a Debian Maintainer"></a>Becoming a Debian Maintainer</h2><h3 id="Identification"><a href="#Identification" class="headerlink" title="Identification"></a>Identification</h3><ul><li><p>generate a strong (&gt;=2048) RSA GnuPG key.</p></li><li><p>Send the fingerprint to DD to sign it. </p></li><li><p>Import the key received from DD:</p><p><code>$ gpg --import handsome_feng(B43C0E3B\)–Public.asc</code></p></li><li><p>Confirm the key signed success:</p><p><code>$ gpg --recv-key DD_public_key_ID</code></p><p>`$ gpg –list-sigs</p></li><li><p>Update the key by send it to the key server.</p><p><code>$ gpg --keyserver pool.sks-keyservers.net --send-key 2811C825B43C0E3B</code></p></li></ul><h3 id="Declaration-of-intent"><a href="#Declaration-of-intent" class="headerlink" title="Declaration of intent"></a>Declaration of intent</h3><ul><li><p>Subscribe to the debian-devel-announce mailing list</p></li><li><p>Ensure that GnuPG uses SHA2 signatures (in preference to SHA1); an example is having the following content in ~/.gnupg/gpg.conf:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">personal-digest-preferences SHA512</span><br><span class="line">cert-digest-algo SHA512</span><br><span class="line">default-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed</span><br></pre></td></tr></table></figure></li><li><p>Register for a Salsa account</p></li><li><p>Register for a New Members account.</p><ul><li><p>emailing  <a href="mailto:sso@rt.debian.org" rel="external nofollow noopener noreferrer" target="_blank">sso@rt.debian.org</a> (Don’t forget to sign your emil)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">To: sso@rt.debian.org</span><br><span class="line">Subject: [Debian RT] SSO Account for _____</span><br><span class="line"></span><br><span class="line">Please create a SSO Account for me.</span><br><span class="line"></span><br><span class="line">Account name: _____-guest</span><br><span class="line">Reason account is needed: _____</span><br><span class="line">OpenPGP key fingerprint: _____</span><br><span class="line"></span><br><span class="line">Thanks.</span><br></pre></td></tr></table></figure></li><li><p>After receive the debsso account, use the Alioth icon on the right hand side at <a href="https://sso.debian.org" rel="external nofollow noopener noreferrer" target="_blank">https://sso.debian.org</a> to login.</p></li><li><p>Open <a href="https://sso.debian.org/alioth/certs/enroll_csr/" rel="external nofollow noopener noreferrer" target="_blank">https://sso.debian.org/alioth/certs/enroll_csr/</a> to get certificate.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> openssl genrsa -out handsome_feng-guest@users.alioth.debian.org.key 2048</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> openssl req -new -sha256 -key handsome_feng-guest@users.alioth.debian.org.key -batch</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Paste the CSR and click the <span class="string">'Get certificate'</span> button to get the handsome_feng-guest@users.alioth.debian.org.crt</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Authenticate access via curl</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> curl --key handsome_feng-guest@users.alioth.debian.org.key --cert handsome_feng-guest@users.alioth.debian.org.crt https://sso.debian.org/ca/<span class="built_in">test</span>/env</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Combine key and certificate <span class="keyword">in</span> a pkcs12 file that can be imported <span class="keyword">in</span> browsers (Type the password <span class="keyword">for</span> the <span class="built_in">export</span>, PS: such as your login password)</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> openssl pkcs12 -<span class="built_in">export</span> -out handsome_feng-guest@users.alioth.debian.org.p12 -inkey handsome_feng-guest@users.alioth.debian.org.key -<span class="keyword">in</span> handsome_feng-guest@users.alioth.debian.org.crt</span></span><br></pre></td></tr></table></figure></li><li><p>Import the xx.p12 from the certificate dialog at chrome://settings/certificates or from the command line with:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pk12util -i handsome_feng-guest@users.alioth.debian.org.p12 -d sql:$HOME/.pki/nssdb</span><br></pre></td></tr></table></figure></li><li><p>Then you can login the <a href="https://nm.debian.org/" rel="external nofollow noopener noreferrer" target="_blank">https://nm.debian.org/</a></p></li></ul></li><li></li></ul><h3 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h3><p><a href="https://wiki.debian.org/DebianSingleSignOn" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.debian.org/DebianSingleSignOn</a></p><p><a href="https://wiki.debian.org/Keysigning" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.debian.org/Keysigning</a></p><p><a href="https://wiki.debian.org/DebianMaintainer" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.debian.org/DebianMaintainer</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Debian-Maintainer&quot;&gt;&lt;a href=&quot;#Debian-Maintainer&quot; class=&quot;headerlink&quot; title=&quot;Debian Maintainer&quot;&gt;&lt;/a&gt;Debian Maintainer&lt;/h1&gt;&lt;h2 id=&quot;Becom
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/Debuild/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/Debuild/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p>debuild – clean</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;debuild – clean&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/SRU/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/SRU/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h4 id="SRU"><a href="#SRU" class="headerlink" title="SRU:"></a>SRU:</h4><p><a href="https://wiki.ubuntu.com/StableReleaseUpdates" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/StableReleaseUpdates</a><br><a href="http://people.canonical.com/~ubuntu-archive/pending-sru.html" rel="external nofollow noopener noreferrer" target="_blank">http://people.canonical.com/~ubuntu-archive/pending-sru.html</a></p><p>debdiff:</p><ul><li>quilt</li></ul><p>$ apt-get source kylin-nm</p><p>$ pull-lp-source <package_name> trusty</package_name></p><p>Import a patch</p><p>$ quilt import -P fix-foobar.patch /tmp/patch<br>$ quilt push</p><p>Or create a new patch</p><p>$ quilt new fix-foobar.patch</p><p>$ quilt edit foobar.c</p><p>or</p><p>$ quilt add file-to-modify  &amp;&amp; $ vim file-to-modify</p><p>$ quilt refresh</p><p>$ update-maintainer</p><p>$ debuild -S</p><p>$ debdiff kylin-nm_1.0.0-1.dsc kylin-nm_1.0.0-1ubuntu0.1.dsc &gt; kylin-nm_1.0.0-1ubuntu0.1.debdiff</p><ul><li><p>native<br>$ pull-lp-source kylin-nm trusty</p><p>edit it</p><p>$ debuild -sa -S</p><p>$ defdiff kylin-nm_1.0.0-1.dsc kylin-nm_1.0.0-1ubuntu0.1.dsc &gt; kylin-nm_1.0.0-1ubuntu0.1.debdiff</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;SRU&quot;&gt;&lt;a href=&quot;#SRU&quot; class=&quot;headerlink&quot; title=&quot;SRU:&quot;&gt;&lt;/a&gt;SRU:&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://wiki.ubuntu.com/StableReleaseUpdates&quot; rel=&quot;exte
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/UbuntuMember/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/UbuntuMember/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p>参考：</p><p><a href="https://wiki.ubuntu.com/AndreasHasenack/UbuntuServerDevApplication" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/AndreasHasenack/UbuntuServerDevApplication</a></p><p>2018.1.29:</p><p><a href="https://wiki.ubuntu.com/fossfreedom/budgie-extrasPPUApplication" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/fossfreedom/budgie-extrasPPUApplication</a></p><p><a href="https://wiki.ubuntu.com/fossfreedom/UbuntuBudgieDevApplication" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/fossfreedom/UbuntuBudgieDevApplication</a></p><p><a href="https://wiki.ubuntu.com/slashd/coredev" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/slashd/coredev</a></p><p>2018.2.26</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://wiki.ubuntu.com/tsimonq2/Applications/Qt5Uploader</span><br></pre></td></tr></table></figure><p>2018.4.10</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://wiki.ubuntu.com/handsome_feng/UbuntuKylinDeveloperApplication</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://wiki.ubuntu.com/DeveloperMembershipBoard/Agenda</span><br></pre></td></tr></table></figure><p><a href="https://irclogs.ubuntu.com/2018/02/26/%23ubuntu-meeting.html" rel="external nofollow noopener noreferrer" target="_blank">https://irclogs.ubuntu.com/2018/02/26/%23ubuntu-meeting.html</a></p><h2 id="My-work"><a href="#My-work" class="headerlink" title="My work"></a>My work</h2><p>ubuntukylin-default-settings: 1670202</p><p><a href="https://qa.debian.org/developer.php?login=jianfengli%40ubuntukylin.com" rel="external nofollow noopener noreferrer" target="_blank">https://qa.debian.org/developer.php?login=jianfengli%40ubuntukylin.com</a></p><p><a href="https://launchpad.net/~feng-kylin/+uploaded-packages" rel="external nofollow noopener noreferrer" target="_blank">https://launchpad.net/~feng-kylin/+uploaded-packages</a></p><p><a href="https://irclogs.ubuntu.com/2018/04/09/%23ubuntu-meeting.html" rel="external nofollow noopener noreferrer" target="_blank">https://irclogs.ubuntu.com/2018/04/09/%23ubuntu-meeting.html</a></p><p>Can I see some diffs of what you actually uploaded to Ubuntu with sponsorship? I’m not sure how to get that：</p><pre><code>https://launchpad.net/ubuntu/+source/qtbase-opensource-src/5.9.3+dfsg-0ubuntu1    19:34</code></pre><p><a href="https://launchpad.net/ubuntu/+source/qtsvg-opensource-src/5.9.3-0ubuntu1" rel="external nofollow noopener noreferrer" target="_blank">https://launchpad.net/ubuntu/+source/qtsvg-opensource-src/5.9.3-0ubuntu1</a></p><p>Please link directly to the upload. Example: <a href="https://launchpad.net/ubuntu/+source/ukui-session-manager/1.1.1-0ubuntu1" rel="external nofollow noopener noreferrer" target="_blank">https://launchpad.net/ubuntu/+source/ukui-session-manager/1.1.1-0ubuntu1</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[~]$ who-uploads -M 10 budgie-desktop</span><br><span class="line">Uploads for budgie-desktop:</span><br><span class="line">10.2.8-1 to unstable: Gianfranco Costamagna &lt;locutusofborg@debian.org&gt;</span><br><span class="line">10.2.7-3 to unstable: Adam Borowski &lt;kilobyte@angband.pl&gt;</span><br><span class="line">10.2.7-2 to unstable: Gianfranco Costamagna &lt;locutusofborg@debian.org&gt;</span><br><span class="line">10.2.7-1 to unstable: Gianfranco Costamagna &lt;locutusofborg@debian.org&gt;</span><br><span class="line">10.2.6-2 to unstable: Gianfranco Costamagna &lt;locutusofborg@debian.org&gt;</span><br><span class="line">10.2.6-1 to unstable: Gianfranco Costamagna &lt;locutusofborg@debian.org&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ubuntu-dev.alioth.debian.org/cgi-bin/ubuntu-sponsorships.cgi?render=htm&amp;sponsoree=*foss*</span><br></pre></td></tr></table></figure><p>ukui-session-manager： 自带配置文件</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;参考：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://wiki.ubuntu.com/AndreasHasenack/UbuntuServerDevApplication&quot; rel=&quot;external nofollow noopener noreferrer&quot; targe
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/debian&amp;ubuntu/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/debian&amp;ubuntu/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h2 id="通用"><a href="#通用" class="headerlink" title="通用"></a>通用</h2><p>本地准备工作:</p><p>~/.bashrc:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export DEBFULLNAME=&quot;handsome_feng&quot;</span><br><span class="line">export DEBEMAIL=&quot;jianfengli@ubuntukylin.com&quot;</span><br><span class="line">alias mylintian=&quot;lintian -i -EvIL +pedantic --verbose&quot;</span><br><span class="line">alias mylicensecheck=&quot;licensecheck -r . | grep -v &apos;UNKNOWN&apos;&quot;</span><br></pre></td></tr></table></figure><p>~/.</p><h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><p><a href="https://cdimage.ubuntu.com" rel="external nofollow noopener noreferrer" target="_blank">镜像下载</a><br><a href="https://launchpad.net/ubuntu/+archivemirrors" rel="external nofollow noopener noreferrer" target="_blank">Mirros</a><br><a href="http://packages.ubuntu.com/" rel="external nofollow noopener noreferrer" target="_blank">Packages Search</a><br><a href="https://launchpad.net/ubuntu/+source/youker-assistant" rel="external nofollow noopener noreferrer" target="_blank">Source</a><br><a href="http://iso.qa.ubuntu.com/qatracker" rel="external nofollow noopener noreferrer" target="_blank">Testing tracker</a><br><a href="http://autopkgtest.ubuntu.com/" rel="external nofollow noopener noreferrer" target="_blank">Autopkgtest</a></p><h4 id="seeds"><a href="#seeds" class="headerlink" title="seeds"></a>seeds</h4><p><a href="https://wiki.ubuntu.com/UbuntuStudio/Seeds" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/UbuntuStudio/Seeds</a><br><a href="https://wiki.ubuntu.com/SeedManagement" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/SeedManagement</a><br><a href="https://wiki.ubuntu.com/Germinate" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/Germinate</a><br><a href="https://wiki.ubuntu.com/ProposedMigration" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/ProposedMigration</a><br><a href="http://people.canonical.com/~ubuntu-archive/seeds/" rel="external nofollow noopener noreferrer" target="_blank">http://people.canonical.com/~ubuntu-archive/seeds/</a><br><a href="http://people.canonical.com/~ubuntu-archive/germinate-output/" rel="external nofollow noopener noreferrer" target="_blank">http://people.canonical.com/~ubuntu-archive/germinate-output/</a><br><a href="http://wiki.ubuntu.org.cn/" rel="external nofollow noopener noreferrer" target="_blank">Ubuntu中文WIKI</a><br><a href="https://help.ubuntu.com/lts/ubuntu-help/index.html" rel="external nofollow noopener noreferrer" target="_blank">Ubuntu桌面指南</a><br><a href="https://certification.ubuntu.com/certification/desktop/" rel="external nofollow noopener noreferrer" target="_blank">Ubuntu认证硬件</a><br>Debian新维护人员手册<br><a href="https://www.debian.org/doc/manuals/maint-guide/index.zh-cn.html" rel="external nofollow noopener noreferrer" target="_blank">https://www.debian.org/doc/manuals/maint-guide/index.zh-cn.html</a><br><a href="https://www.debian.org/doc/manuals/maint-guide/" rel="external nofollow noopener noreferrer" target="_blank">https://www.debian.org/doc/manuals/maint-guide/</a><br>Debian开发人员手册: <a href="https://www.debian.org/doc/manuals/developers-reference/" rel="external nofollow noopener noreferrer" target="_blank">https://www.debian.org/doc/manuals/developers-reference/</a><br>Debian打包指南:<br><a href="https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.en.pdf" rel="external nofollow noopener noreferrer" target="_blank">https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.en.pdf</a><br><a href="https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.zh_TW.pdf" rel="external nofollow noopener noreferrer" target="_blank">https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.zh_TW.pdf</a><br><a href="http://packaging.ubuntu.com/html/" rel="external nofollow noopener noreferrer" target="_blank">http://packaging.ubuntu.com/html/</a><br><a href="https://www.debian.org/doc/debian-policy/" rel="external nofollow noopener noreferrer" target="_blank">Debian Policy Manual</a><br><a href="https://lintian.debian.org/tags/" rel="external nofollow noopener noreferrer" target="_blank">lintian tags</a><br><a href="http://people.canonical.com/~ubuntu-archive/cd-build-logs/" rel="external nofollow noopener noreferrer" target="_blank">Daily build log</a><br><a href="http://autopkgtest.ubuntu.com/" rel="external nofollow noopener noreferrer" target="_blank">Ubuntu Autopkgtest Results</a><br>TechnicalBoard:<br><a href="https://wiki.ubuntu.com/TechnicalBoard" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/TechnicalBoard</a><br><a href="https://wiki.ubuntu.com/TechnicalBoardAgenda" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/TechnicalBoardAgenda</a><br>excuses(proposed迁移): <a href="http://people.canonical.com/~ubuntu-archive/proposed-migration/update_excuses.html" rel="external nofollow noopener noreferrer" target="_blank">http://people.canonical.com/~ubuntu-archive/proposed-migration/update_excuses.html</a><br>packagesets:        <a href="https://people.canonical.com/~ubuntu-archive/packagesets/bionic/" rel="external nofollow noopener noreferrer" target="_blank">https://people.canonical.com/~ubuntu-archive/packagesets/bionic/</a><br>License Information: <a href="https://ftp-master.debian.org/licenses/" rel="external nofollow noopener noreferrer" target="_blank">https://ftp-master.debian.org/licenses/</a><br>DeveloperMembershipBoard: <a href="https://wiki.ubuntu.com/DeveloperMembershipBoard" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/DeveloperMembershipBoard</a><br>Ubuntu Developers: <a href="https://wiki.ubuntu.com/UbuntuDevelopers/TeamDelegation" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/UbuntuDevelopers/TeamDelegation</a><br>Bugs/EmailInterface: <a href="https://help.launchpad.net/Bugs/EmailInterface" rel="external nofollow noopener noreferrer" target="_blank">https://help.launchpad.net/Bugs/EmailInterface</a><br>Live filesystem information: <a href="https://launchpad.net/~ubuntu-cdimage/+livefs/ubuntu/cosmic/ubuntukylin/" rel="external nofollow noopener noreferrer" target="_blank">https://launchpad.net/~ubuntu-cdimage/+livefs/ubuntu/cosmic/ubuntukylin/</a><br>Debian bug-tracking system: <a href="https://debian-administration.org/article/436/Using_the_Debian_bug-tracking_system" rel="external nofollow noopener noreferrer" target="_blank">https://debian-administration.org/article/436/Using_the_Debian_bug-tracking_system</a><br>debian archive:      <a href="https://salsa.debian.org/handsome_feng-guest" rel="external nofollow noopener noreferrer" target="_blank">https://salsa.debian.org/handsome_feng-guest</a><br>Debian new and byhand pakcages: <a href="https://ftp-master.debian.org/new.html" rel="external nofollow noopener noreferrer" target="_blank">https://ftp-master.debian.org/new.html</a><br><a href="https://irclogs.ubuntu.com" rel="external nofollow noopener noreferrer" target="_blank">Irc logs</a><br><a href="https://wiki.ubuntu.com/Releases" rel="external nofollow noopener noreferrer" target="_blank">Release</a><br><a href="http://changelogs.ubuntu.com/" rel="external nofollow noopener noreferrer" target="_blank">changelogs</a></p><h3 id="常用流程"><a href="#常用流程" class="headerlink" title="常用流程"></a>常用流程</h3><h4 id="SponsorshipProcess"><a href="#SponsorshipProcess" class="headerlink" title="SponsorshipProcess"></a>SponsorshipProcess</h4><p><a href="https://wiki.ubuntu.com/SponsorshipProcess" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/SponsorshipProcess</a></p><h4 id="FFe"><a href="#FFe" class="headerlink" title="FFe"></a>FFe</h4><p><a href="https://wiki.ubuntu.com/FreezeExceptionProcess" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/FreezeExceptionProcess</a></p><h4 id="syncRequestProcess"><a href="#syncRequestProcess" class="headerlink" title="syncRequestProcess"></a>syncRequestProcess</h4><p><a href="https://wiki.ubuntu.com/SyncRequestProcess" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/SyncRequestProcess</a></p><h3 id="打包工具"><a href="#打包工具" class="headerlink" title="打包工具"></a>打包工具</h3><p>SBuild:         <a href="https://wiki.ubuntu.com/SimpleSbuil" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/SimpleSbuil</a><br>DebDiff:        <a href="https://wiki.ubuntu.com/UbuntuStudio/DebDiff" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/UbuntuStudio/DebDiff</a></p><p>在线工具</p><p>在线贴图工具:    <a href="https://imgur.com/" rel="external nofollow noopener noreferrer" target="_blank">https://imgur.com/</a><br>在线贴文字工具:  <a href="https://paste.ubuntu.com/" rel="external nofollow noopener noreferrer" target="_blank">https://paste.ubuntu.com/</a></p><p>在线gif制作:     <a href="http://www.soogif.com/" rel="external nofollow noopener noreferrer" target="_blank">http://www.soogif.com/</a><br>在线流程图:      <a href="https://www.processon.com/diagrams" rel="external nofollow noopener noreferrer" target="_blank">https://www.processon.com/diagrams</a> </p><p>实用工具</p><ol><li>Youcompleteme</li><li>gollum</li><li>irssi</li><li>goldendict</li><li>Beyond Compare</li><li>SS</li><li>xdotool</li></ol><p>X window</p><ul><li>查看快捷键被谁捕获</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xdotool keydown "shift+Print"; xdotool key "XF86LogGrabInfo"; xdotool keyup "Print"; sleep 1; xdotool keyup "shift"; tail /var/log/Xorg.0.log</span><br></pre></td></tr></table></figure><ul><li>其他</li></ul><ol><li>ANSI控制码: <a href="http://ascii-table.com/ansi-escape-sequences.php" rel="external nofollow noopener noreferrer" target="_blank">http://ascii-table.com/ansi-escape-sequences.php</a></li></ol><h2 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h2><h3 id="The-experimental-repository"><a href="#The-experimental-repository" class="headerlink" title="The experimental repository"></a>The experimental repository</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deb http://deb.debian.org/debian experimental main</span><br><span class="line">apt-get update</span><br><span class="line">apt-get -t experimental install packagename</span><br><span class="line"></span><br><span class="line">//listing all packages installed from experimental</span><br><span class="line">aptitude search ~S~i~Aexperimental</span><br></pre></td></tr></table></figure><h3 id="Debian-version-numbering"><a href="#Debian-version-numbering" class="headerlink" title="Debian version numbering"></a>Debian version numbering</h3><p> The format is: [epoch:]upstream_version[-debian_revision]</p><p>The three components here are:</p><ul><li>epoch<br>This is a single (generally small) unsigned integer. It may be omitted, in which case zero is assumed. If it is omitted then the upstream_version may not contain any colons. It is provided to allow mistakes in the version numbers of older versions of a package, and also a package’s previous version numbering schemes, to be left behind.<ul><li>upstream_version<br>This is the main part of the version number. It is usually the version number of the original (“upstream”) package from which the .deb file has been made, if this is applicable. Usually this will be in the same format as that specified by the upstream author(s); however, it may need to be reformatted to fit into the package management system’s format and comparison scheme.<br>The comparison behavior of the package management system with respect to the upstream_version is described below. The upstream_version portion of the version number is mandatory.<br>The upstream_version may contain only alphanumerics[36] and the characters “.” (full stop), “+” (plus), “-“ (hyphen), “:” (colon), “~” (tilde) and should start with a digit. If there is no debian_revision then hyphens are not allowed; if there is no epoch then colons are not allowed.</li><li>debian_revision<br>This part of the version number specifies the version of the Debian package based on the upstream version. It may contain only alphanumerics and the characters “.” (full stop), “+” (plus), “~” (tilde) and is compared in the same way as the upstream_version is.<br>It is optional; if it isn’t present then the upstream_version may not contain a hyphen. This format represents the case where a piece of software was written specifically to be a Debian package, where the Debian package source must always be identical to the pristine source and therefore no revision indication is required.<br>It is conventional to restart the debian_revision at 1 each time the upstream_version is increased.<br>The package management system will break the version number apart at the last hyphen in the string (if there is one) to determine the upstream_version and debian_revision. The absence of a debian_revision is equivalent to a debian_revision of 0.</li><li>Comparison<br>When comparing two version numbers, first the epoch of each are compared, then the upstream_version if epoch is equal, and then debian_revision if upstream_version is also equal. epoch is compared numerically. The upstream_version and debian_revision parts are compared by the package management system using the following algorithm:<br>The strings are compared from left to right.<br>First the initial part of each string consisting entirely of non-digit characters is determined. These two parts (one of which may be empty) are compared lexically. If a difference is found it is returned. The lexical comparison is a comparison of ASCII values modified so that all the letters sort earlier than all the non-letters and so that a tilde sorts before anything, even the end of a part. For example, the following parts are in sorted order from earliest to latest: <del>, ~</del>a, ~, the empty part, a.<br>Then the initial part of the remainder of each string which consists entirely of digit characters is determined. The numerical values of these two parts are compared, and any difference found is returned as the result of the comparison. For these purposes an empty string (which can only occur at the end of one or both version strings being compared) counts as zero.<br>These two steps (comparing and removing initial non-digit strings and initial digit strings) are repeated until a difference is found or both strings are exhausted.<br>Note that the purpose of epochs is to allow us to leave behind mistakes in version numbering, and to cope with situations where the version numbering scheme changes. It is not intended to cope with version numbers containing strings of letters which the package management system cannot interpret (such as ALPHA or pre-), or with silly orderings.</li></ul></li></ul><p>ubuntu will indicate that the package has been built specifically for Ubuntu. The alpha and build strings don’t seem to have any particular meaning, but dfsg refers to a package that has been modified for compliance with the Debian Free Software Guidelines.</p><h3 id="安装命令提示器"><a href="#安装命令提示器" class="headerlink" title="安装命令提示器"></a>安装命令提示器</h3><p>sudo apt install command-not-found</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;通用&quot;&gt;&lt;a href=&quot;#通用&quot; class=&quot;headerlink&quot; title=&quot;通用&quot;&gt;&lt;/a&gt;通用&lt;/h2&gt;&lt;p&gt;本地准备工作:&lt;/p&gt;
&lt;p&gt;~/.bashrc:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/involve/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/involve/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h2><p><code>sudo apt install how-can-i-help</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generic instructions: https://mentors.debian.net/intro-maintainers</span><br><span class="line">Reintroducing packages: https://www.debian.org/doc/manuals/developers-reference/ch05.en.html#reintroducing-pkgs</span><br></pre></td></tr></table></figure><h2 id="Report-Bug"><a href="#Report-Bug" class="headerlink" title="Report Bug"></a>Report Bug</h2><p>$ sudo apt install python3-gi-cairo gir1.2-vte-2.91</p><p>reportbug –ui gtk2</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Debian&quot;&gt;&lt;a href=&quot;#Debian&quot; class=&quot;headerlink&quot; title=&quot;Debian&quot;&gt;&lt;/a&gt;Debian&lt;/h2&gt;&lt;p&gt;&lt;code&gt;sudo apt install how-can-i-help&lt;/code&gt;&lt;/p&gt;
&lt;figu
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/packaging/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/packaging/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p>git-deborig</p><p>pristine-tar</p><p>tag2upload</p><p>origtargz</p><p>dgit –gbp sbuild</p><p>dgit –gbp push-source</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;git-deborig&lt;/p&gt;
&lt;p&gt;pristine-tar&lt;/p&gt;
&lt;p&gt;tag2upload&lt;/p&gt;
&lt;p&gt;origtargz&lt;/p&gt;
&lt;p&gt;dgit –gbp sbuild&lt;/p&gt;
&lt;p&gt;dgit –gbp push-source&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/pbuilder/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/pbuilder/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p>You must use sudo for pbuilder. Hence you must make an entry in the sudoers file:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo visudo</span><br></pre></td></tr></table></figure><p>and add the following entry (Not sure, encounter error in debian after add this): </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user_name ALL=(ALL) NOPASSWD:/usr/sbin/pbuilder</span><br></pre></td></tr></table></figure><p>Now you need to set up a base tarball that will contain your chroot environment: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pbuilder create</span><br></pre></td></tr></table></figure><p>The result will be found at  <code>/var/cache/pbuilder/base.tgz</code></p><p>Note: If you are on Ubuntu or another GNU/Linux distribution, run </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install debian-archive-keyring</span><br><span class="line">sudo pbuilder create --distribution sid --mirror http://mirrors.ustc.edu.cn/debian/ --debootstrapopts &quot;--keyring=/usr/share/keyrings/debian-archive-keyring.gpg&quot;</span><br></pre></td></tr></table></figure><p>and copy the base.tgz to another location for you to work in a debian environment. </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pbuilder --login --save-after-login --basetgz &lt;path to your base.tgz file&gt;</span><br></pre></td></tr></table></figure><p> 你可以使用 <code>pbuilder --login --save-after-login</code> 命令登录到这个 <strong>chroot</strong> 环境中并按照需要对其进行配置。通过 <code>^D</code> (Control-D)离开这个 shell 时环境会被保存。 </p><p>Note down the temporary build directory root which you can use to copy files to and from. For example,  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pbuilder --login</span><br><span class="line">I: Building the build Environment</span><br><span class="line">I: extracting base tarball [/media/forge/debian/pbuilder/sid-base.tgz]</span><br><span class="line">I: creating local configuration</span><br><span class="line">I: copying local configuration</span><br><span class="line">I: mounting /proc filesystem</span><br><span class="line">I: mounting /run/shm filesystem</span><br><span class="line">I: mounting /dev/pts filesystem</span><br><span class="line">I: Mounting /media/forge/debian/pbuilder/ccache</span><br><span class="line">I: policy-rc.d already exists</span><br><span class="line">I: Obtaining the cached apt archive contents</span><br><span class="line">I: entering the shell</span><br><span class="line">File extracted to: /media/forge/debian/pbuilder/build/26975</span><br><span class="line"></span><br><span class="line">root@savannah:/#</span><br></pre></td></tr></table></figure><p>Your  debian environment is at /media/forge/debian/pbuilder/build/26975. Any  file you copy there will be available to debian chroot. </p><p>You  may create ~/.pbuilderrc if you want set options for pbuilder, for  example if you want to keep pbuilder files in an external hard drive, </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">BASETGZ=/media/forge/debian/pbuilder/sid-base.tgz</span><br><span class="line">BUILDPLACE=/media/forge/debian/pbuilder/build</span><br><span class="line">CCACHEDIR=/media/forge/debian/pbuilder/ccache</span><br><span class="line">BASEPATH=/media/forge/debian/pbuilder/base.cow</span><br><span class="line">COWBUILDER_BASE=/media/forge/debian/pbuilder/</span><br><span class="line">DISTRIBUTION=sid</span><br><span class="line">BUILDRESULT=/media/forge/debian/pbuilder/results</span><br><span class="line">APTCACHE=/media/forge/debian/pbuilder/aptcache</span><br><span class="line">DEBEMAIL=&quot;Your Name &lt;email@yourprovide.domain&gt;&quot;</span><br><span class="line">#AUTOCLEANAPTCACHE=yes</span><br></pre></td></tr></table></figure><h1 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h1><p>Update the chroot environment:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pbuilder --update</span><br></pre></td></tr></table></figure><p>Now it is  time to build the package you already created again, this time with  pbuilder. For that you will use the dsc file you created with  dpkg-buildpackage </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pbuilder build ruby-devise_2.1.2-1.dsc</span><br></pre></td></tr></table></figure><p> 如果你已经更新了源代码树但没有生成对应的源代码包，在存放 <code>debian</code> 目录的源码目录里执行： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pbuilder --update</span><br><span class="line">$ pdebuild</span><br></pre></td></tr></table></figure><p>The result will be found in  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/var/cache/pbuilder/result</span><br></pre></td></tr></table></figure><p>Again you have to make sure it is lintian clean: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /var/cache/pbuilder/result</span><br><span class="line">lintian -iIEcv --pedantic --color auto ruby-devise_2.1.2-1*.changes</span><br></pre></td></tr></table></figure><p> 新构建的无 GPG 签名的软件包会被以非 root 属主放置于 <code>/var/cache/pbuilder/result/</code>。 </p><p> <code>.dsc</code> 文件和 <code>.changes</code> 文件中的 GPG 签名可以用如下方法生成： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /var/cache/pbuilder/result/</span><br><span class="line">$ debsign foo_version_arch.changes</span><br></pre></td></tr></table></figure><h1 id="Hook"><a href="#Hook" class="headerlink" title="Hook"></a>Hook</h1><p> 创建一个对用户可写的目录保存钩子脚本，例如 <code>*/var/cache/pbuilder/hooks*</code> </p><p> 在 <code>~/.pbuilderrc</code> 或 <code>/etc/pbuilderrc</code> 中添加以下内容： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AUTO_DEBSIGN=$&#123;AUTO_DEBSIGN:-no&#125;</span><br><span class="line">HOOKDIR=/var/cache/pbuilder/hooks</span><br></pre></td></tr></table></figure><p> 最新版的 <strong>lintian</strong> 命令可以通过设置钩子脚本 <code>*/var/cache/pbuilder/hooks*/B90lintian</code> 在 <code>chroot</code> 环境中运行。脚本内容如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">set -e</span><br><span class="line">install_packages() &#123;</span><br><span class="line">        apt-get -y --allow-downgrades install &quot;$@&quot;</span><br><span class="line">        &#125;</span><br><span class="line">install_packages lintian</span><br><span class="line">echo &quot;+++ lintian output +++&quot;</span><br><span class="line">su -c &quot;lintian -i -I --show-overrides /tmp/buildd/*.changes&quot; - pbuilder</span><br><span class="line"># use this version if you don&apos;t want lintian to fail the buildsudo</span><br><span class="line">#su -c &quot;lintian -i -I --show-overrides /tmp/buildd/*.changes; :&quot; - pbuilder</span><br><span class="line">echo &quot;+++ end of lintian output +++&quot;</span><br></pre></td></tr></table></figure><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="https://wiki.ubuntu.com/PbuilderHowto" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/PbuilderHowto</a></p><p><a href="https://wiki.debian.org/PbuilderTricks" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.debian.org/PbuilderTricks</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;You must use sudo for pbuilder. Hence you must make an entry in the sudoers file:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td clas
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/po/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/po/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p><img src="../../pics/gettext.svg" alt="gettext" title="Typical gettext workflow"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for po in `ls *.po`; do msgmerge -U $po slideshow-ubuntukylin.pot; done</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;../../pics/gettext.svg&quot; alt=&quot;gettext&quot; title=&quot;Typical gettext workflow&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td clas
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/DebianUbuntu/常用命令/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><p>使用格式如下：</p><p>$ find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定动作&gt;</p><p>　　- &lt;指定目录&gt;： 所要搜索的目录及其所有子目录。默认为当前目录。</p><p>　　- &lt;指定条件&gt;： 所要搜索的文件的特征。</p><p>　　- &lt;指定动作&gt;： 对搜索结果进行特定的处理。</p><p>使用实例：</p><p>　　$ find . -name ‘test*’</p><p>搜索当前目录（含子目录，以下同）中，所有文件名以test开头的文件。</p><p>　　$ find . -name ‘test*’ -ls</p><p>搜索当前目录中，所有文件名以test开头的文件，并显示它们的详细信息。</p><p>　　$ find . -type f -mmin -10</p><p>搜索当前目录中，所有过去10分钟中更新过的普通文件。如果不加-type f参数，则搜索普通文件+特殊文件+目录。</p><h3 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h3><p>它不搜索具体目录，而是搜索一个数据库（/var/lib/locatedb），这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，所以使用locate命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。</p><p>locate命令的使用实例：</p><p>　　$ locate /etc/sh</p><p>搜索etc目录下所有以sh开头的文件。</p><p>　　$ locate ~/m</p><p>搜索用户主目录下，所有以m开头的文件。</p><p>　　$ locate -i ~/m</p><p>搜索用户主目录下，所有以m开头的文件，并且忽略大小写。</p><h3 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h3><p>whereis命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息。</p><p>whereis命令的使用实例：</p><p>　　$ whereis grep</p><h3 id="which"><a href="#which" class="headerlink" title="which"></a>which</h3><p>which命令的作用是，在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。</p><p>which命令的使用实例：</p><p>　　$ which grep</p><h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><p>type命令其实不能算查找命令，它是用来区分某个命令到底是由shell自带的，还是由shell外部的独立二进制文件提供的。如果一个命令是外部命令，那么使用-p参数，会显示该命令的路径，相当于which命令。</p><p>type命令的使用实例：</p><p>　　$ type cd</p><p>系统会提示，cd是shell的自带命令（build-in）。</p><p>　　$ type grep</p><p>系统会提示，grep是一个外部命令，并显示该命令的路径。</p><p>　　$ type -p grep</p><p>加上-p参数后，就相当于which命令。</p><h2 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h2><h4 id="dpkg"><a href="#dpkg" class="headerlink" title="dpkg"></a>dpkg</h4><p>dpkg -x</p><p>dpkg -e</p><p>dpkg-deb -b</p><h3 id="设备信息"><a href="#设备信息" class="headerlink" title="设备信息"></a>设备信息</h3><p>sudo /sbin/hdparm -i /dev/sda | grep -i serialno #硬盘序列号</p><h3 id="X相关"><a href="#X相关" class="headerlink" title="X相关"></a>X相关</h3><h4 id="xwininfo"><a href="#xwininfo" class="headerlink" title="xwininfo"></a>xwininfo</h4><h4 id="xprop"><a href="#xprop" class="headerlink" title="xprop"></a>xprop</h4><h4 id="xkill"><a href="#xkill" class="headerlink" title="xkill"></a>xkill</h4><h4 id="xdotool"><a href="#xdotool" class="headerlink" title="xdotool"></a>xdotool</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;查找&quot;&gt;&lt;a href=&quot;#查找&quot; class=&quot;headerlink&quot; title=&quot;查找&quot;&gt;&lt;/a&gt;查找&lt;/h2&gt;&lt;h3 id=&quot;find&quot;&gt;&lt;a href=&quot;#find&quot; class=&quot;headerlink&quot; title=&quot;find&quot;&gt;&lt;/a&gt;find&lt;/h
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="DebianUbuntu" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/DebianUbuntu/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/Debug/DebugSymbolPakcages/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/Debug/DebugSymbolPakcages/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Debug-Symbol-Packages"><a href="#Debug-Symbol-Packages" class="headerlink" title="Debug Symbol Packages"></a>Debug Symbol Packages</h3><ol><li><p>Create an /etc/apt/sources.list.d/ddebs.list by running the following line at a terminal:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo "deb http://ddebs.ubuntu.com $(lsb_release -cs) main restricted universe multiverse</span><br><span class="line">deb http://ddebs.ubuntu.com $(lsb_release -cs)-updates main restricted universe multiverse</span><br><span class="line">deb http://ddebs.ubuntu.com $(lsb_release -cs)-proposed main restricted universe multiverse" | \</span><br><span class="line">sudo tee -a /etc/apt/sources.list.d/ddebs.list</span><br></pre></td></tr></table></figure></li><li><p>Import the debug symbol archive signing key from the Ubuntu server:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt install ubuntu-dbgsym-keyring   </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt update</span></span><br></pre></td></tr></table></figure></li><li><p>Install debug packages</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt install xxx-dbgsym</span></span><br></pre></td></tr></table></figure></li><li><p>Automatic resolution</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash -x</span></span><br><span class="line">progname=`basename "$0"`</span><br><span class="line"></span><br><span class="line">explain() &#123;</span><br><span class="line">    cat &lt;&lt; EOF</span><br><span class="line">Usage: $progname [-adt] [-p pid] | [exectable]</span><br><span class="line"></span><br><span class="line">You must specify a pid (-p) or an executable name/path.</span><br><span class="line"></span><br><span class="line">This scripts list the dbug symbols packages you need to install for a complete dump of the give executable. Already installed symbols packages are not shown.</span><br><span class="line"></span><br><span class="line">Options are:</span><br><span class="line">  -p pid  uses the running process with the given pid to get the list.</span><br><span class="line">                If specified, you may omit the executable name.</span><br><span class="line">  -a          show all the required symbol packages (not only the not-installed</span><br><span class="line">                ones)</span><br><span class="line">  -d          prefer XXX-dbg symbol packages over XXX-dbgsym ones</span><br><span class="line">  -t           terse: print the packages names only (no package description).</span><br><span class="line">                Useful to pass output directly to apt-get install.</span><br><span class="line"></span><br><span class="line">NOTE: in some cases $progname may report already installed</span><br><span class="line">packages. This currently happens with binaries using libpthread.so as</span><br><span class="line">libc6-i686-dbgsym apparently doesn't contain debug symbols for it.</span><br><span class="line"></span><br><span class="line">To examine a running server process by pid, you will need to run this script</span><br><span class="line">using sudo.</span><br><span class="line">EOF</span><br><span class="line">    exit -1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">all=false</span><br><span class="line">preferred="dbgsym dbg"</span><br><span class="line">debug=false</span><br><span class="line">terse=false</span><br><span class="line">pid=</span><br><span class="line">while getopts :adgp:t opt; do</span><br><span class="line">    case $opt in</span><br><span class="line">        a)</span><br><span class="line">            all=true</span><br><span class="line">            ;;</span><br><span class="line">        d)</span><br><span class="line">            preferred="dbg dbgsym"</span><br><span class="line">            ;;</span><br><span class="line">        g)</span><br><span class="line">            debug=true</span><br><span class="line">            ;;</span><br><span class="line">        p)</span><br><span class="line">            pid="$OPTARG"</span><br><span class="line">            binary=$(readlink /proc/$pid/exe)</span><br><span class="line">            [ -z "$binary" ]&amp;&amp; echo "Unable to get binary path for pid $pid" &amp;&amp; exit -1</span><br><span class="line">        t)</span><br><span class="line">            terse=true</span><br><span class="line">            ;;</span><br><span class="line">        \?)</span><br><span class="line">            explain</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">if [ -z "$binary" ]; then</span><br><span class="line">    shift $(( $OPTIND - 1 ))</span><br><span class="line">    [ $# -ne 1 ] &amp;&amp; explain</span><br><span class="line">    binary="$1"</span><br><span class="line">    [ ! -x "$binary" -a `basename @"$binary"` = @"$binary" -a -n "`which $binary`" ] &amp;&amp; binary=`which $binary`</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">find-debug() &#123;</span><br><span class="line">    while read i; do</span><br><span class="line">        for ext in $preferred; do</span><br><span class="line">            i=$(echo "$i"|cut -f 1 -d:) #remove the architecture suffix</span><br><span class="line">            apt-cache search "^$i-$ext\$"</span><br><span class="line">        done |head -1</span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if [ ! -z "$pid" ]; then</span><br><span class="line">   Args="--pid=$pid"</span><br><span class="line">else</span><br><span class="line">   Args="$binary"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo q| gdb "$Args" | \</span><br><span class="line">grep 'Reading symbols from '| \</span><br><span class="line">if $all; then cat; else grep 'no debugging symbols found'; fi | \</span><br><span class="line">sed -e 's/^Reading symbols from \(.*\)\.\.\.\((\|Reading \).*$/\1/' | \</span><br><span class="line">while read i; do \</span><br><span class="line">    #dpkg -S "$i" |while read j; do if $debug; then echo '!' $i '--&gt;' $j 1&gt;&amp;2; fi; echo $j; done</span><br><span class="line">    ( if ! dpkg -S "$i" 2&gt;/dev/null; then [ -L "$i" ] &amp;&amp; dpkg -S `readlink "$i"`; fi ) | \</span><br><span class="line">    while read j; do if $debug; then echo '!' $i '--&gt;' $j 1&gt;&amp;2; fi; echo $j; done \</span><br><span class="line">done| sed -e 's/^\(.*\): .*$/\1/' | sort -u | \</span><br><span class="line">find-debug | if $terse; then sed -e 's/ - .*$//'; else cat; fi |sort -u</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Debug-Symbol-Packages&quot;&gt;&lt;a href=&quot;#Debug-Symbol-Packages&quot; class=&quot;headerlink&quot; title=&quot;Debug Symbol Packages&quot;&gt;&lt;/a&gt;Debug Symbol Packages&lt;/
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="Debug" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/Debug/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/Debug/DebugginProcedures/"/>
    <id>https://handsome-feng.github.io/1night-cs/wiki/ubuntukylin_wiki/Debug/DebugginProcedures/</id>
    <published>2019-09-29T06:53:02.106Z</published>
    <updated>2019-09-29T06:53:02.106Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://wiki.ubuntu.com/DebuggingProcedures" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.ubuntu.com/DebuggingProcedures</a></p><h3 id="Info-for-the-BugSquad"><a href="#Info-for-the-BugSquad" class="headerlink" title="Info for the BugSquad"></a>Info for the BugSquad</h3><ol><li><p>This will create a minimal Precise system:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /chroots/precise</span><br><span class="line">sudo debootstrap precise /chroots/precise/</span><br></pre></td></tr></table></figure></li><li><p>Now change into this minimal precise system:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chroot /chroots/precise</span><br></pre></td></tr></table></figure></li><li><p>Edit /etc/apt/sources/list and add all the repositories you need, including the ddeb repository.</p></li><li><p>Execute the following in a terminal:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update; sudo apt-get install gdb apport</span><br></pre></td></tr></table></figure></li><li><p>use apport-retrace as you’re used to.</p></li></ol><h3 id="Compiling-with-debugging-g-option"><a href="#Compiling-with-debugging-g-option" class="headerlink" title="Compiling with debugging -g option"></a>Compiling with debugging -g option</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./autogen.sh</span><br><span class="line">./configure CFLAGS="-g -O0" #option A</span><br><span class="line">./configure --enable-debug  #option B</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://wiki.ubuntu.com/DebuggingProcedures&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;https://wiki.ubuntu.com
      
    
    </summary>
    
    
      <category term="ubuntukylin_wiki" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/"/>
    
      <category term="Debug" scheme="https://handsome-feng.github.io/1night-cs/categories/ubuntukylin-wiki/Debug/"/>
    
    
  </entry>
  
</feed>
